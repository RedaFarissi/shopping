{% extends "base.html" %}
{% load static %}


{% block title %}
    User Contact
{% endblock %}

{% block head %}
<style>
    textarea[class="w-100"]{ height:120px; }
</style>
{% endblock %}


{% block content %}
    <div class="container-fluid">
        <table class="m-auto table table-striped">
            <tr class='row bg-secondary'>
                <th class="col-1"> Subject </th>
                <th class="col-2"> Email </th>
                <th class="col-4"> Message </th>
                <th class="col-1"> Date </th>
                <th class="col-3"> response </th>
                <th class="col-1"> Vu </th>
            </tr>
            {% for user in contact_users %}
                <tr style='cursor:pointer' class='row'>
                    <td class="col-1"> {{user.subject}} </td>
                    <td class="col-2"> {{user.email}} </td>
                    <td class="col-4"> {{user.message}} </td>
                    <td class="col-1"> {{user.contact_date}} </td>

                    <td class="col-3"> 
                        <form action="{{ user.get_absolute_url }}" method="POST" class="w-100">
                            {% csrf_token %}
                            <input type="text" name="subject" placeholder="subject" class="w-100 ps-2 mb-2"/>
                            <textarea class="w-100" name="message"> message </textarea>
                            <button type='submit' class='w-100 btn btn-primary'> Submit </button>
                        </form>
                    </td>
                    <td class="col-1"> 
                        {% if user.vu %}  
                            <i class="fa-solid fa-check fs-3 text-success"></i> 
                        {% else %} 
                            <i class="fa-solid fa-xmark fs-3 text-danger"></i>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </table>
    </div>
{% endblock %}