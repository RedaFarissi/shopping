{% load static %}
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>{% block title %}My shop{% endblock %}</title>
        <link href="{% static "css/base.css" %}" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <link href="{% static 'fontawesomefree/css/fontawesome.css' %}" rel="stylesheet" type="text/css">
        <link href="{% static 'fontawesomefree/css/brands.css' %}" rel="stylesheet" type="text/css">
        <link href="{% static 'fontawesomefree/css/solid.css' %}" rel="stylesheet" type="text/css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <style> 
          a{ color: rgba(0 0 0/85%); text-decoration: none}  
          .store>a:hover { color:white ; }
        
        </style>
    </head>
    <body>
        <div id="header" class="d-flex justify-content-between" >
            
            <a href="/" class="logo">My shop</a>
            
            <div id="header-right"  class="d-flex align-items-center">
                
                <a href="{% url "cart:cart_detail" %}" class="cart border position-relative rounded-circle d-flex justify-content-center align-items-center me-3" title="Cart">
                  <i class="fa-solid fa-cart-shopping fs-5 mt-1"></i>
                    <div class="badge rounded-circle position-absolute {% if cart|length > 0 %} bg-primary {% else %} bg-secondary {% endif %}"  
                        style="right:2px;top:7px;font-size:9px"> 
                        {{ cart|length  }} 
                    </div> 
                </a>

                {% if user.is_superuser%}
                    <a href="{% url 'add_some_product_from_api_to_database' %}"  class="store border rounded-circle d-flex align-items-center me-3 p-0" title='Add Product to home page'>
                      <i class="fa-regular fa-plus fs-5 w-100 text-center"></i>
                    </a>
                {% endif %}

                {% if user.is_authenticated %}
                  <div >
                    <a href="{% url 'create_store' %}" class="store border rounded-circle d-flex align-items-center me-3" title='Store'>
                      <i class="fa-solid fa-store fs-5 w-100 text-center"></i>
                    </a>
                  </div>
                {% endif %}

                {% if not user.is_authenticated %}
                  <div class="store border rounded-circle d-flex align-items-center me-3" title='Store'>
                    <a href="{% url 'signup' %}" class='w-100 text-center' title='Create Account'>
                      <i class="fa-solid fa-user-plus"></i>
                    </a>
                  </div>
                {% endif %}
                


                <div class="d-flex me-3">
                    {% if user.is_authenticated %}
                      <div class="dropdown"> 
                        <div class="usser border rounded-circle d-flex justify-content-center align-items-center" data-bs-toggle="dropdown"> 
                          <i class="fa-solid fa-user fs-5"></i> 
                        </div>
                        <ul class="dropdown-menu p-2"> 
                          <h6> {{ user.get_username }} </h6>
                          <li class="usser dropdown-item w-100 bg-danger rounded">
                            <a href="{% url 'logout' %}?next={{ request.path }}">
                              <div class="d-flex justify-content-center align-items-center">
                                <div class="fa-solid fa-right-from-bracket me-2 text-light"></div> 
                                <div class="m-1 text-light"> Logout</div>
                              </div>
                            </a>
                          </li>
                        </ul>
                      </div>
                    {% else %}
                      <div class="border login rounded-circle d-flex justify-content-center align-items-center">
                        <a href="{% url 'login' %}?next={{ request.path }}" 
                          class="fa-solid fa-right-to-bracket fs-4 text-dark text-decoration-none w-100 text-center" title='login'>
                        </a>
                      </div>
                    {% endif %}
                </div>
                
            </div>
        </div>
       
       <div>
           {% block content %}

           {% endblock %}
       </div>
    </body>
</html>